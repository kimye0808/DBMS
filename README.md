# DBMS
B+트리 기반 DBMS 설계 및 구현

---

# P1_B+ Tree 구현 프로젝트

이 프로젝트는 B+ Tree를 구현한 Java 프로그램입니다. B+ Tree는 데이터베이스나 파일 시스템에서 데이터 검색, 삽입, 삭제 등을 효율적으로 처리하는 데 사용되는 자료구조입니다.

## 설계 문서
[B+tree설계문서.pdf](./P1_BPlusTree_Implementation/2019082279%20김영현.pdf)

<details>
   <summary>세부 사항</summary>
   
   ## 환경 및 실행 방법

### Java 버전
- JDK 18.0.2 이상

### 실행 방법

#### Jar 파일로 실행:
1. jar 파일이 있는 디렉토리로 이동
2. 명령어 실행:
   ```
   java -jar B-tree_Assignment_bptree.jar -c~r index 파일
   ```
   또는
   ```
   java -jar bptree.jar -c~r index 파일
   ```

#### 소스 코드로 실행:
1. `Source` 폴더로 이동
2. 컴파일 및 실행:
   ```
   javac BpTree.java
   java BpTree.java -c~r index 파일
   ```

## 클래스 구성

### Node 클래스
- **필드:**
  - `next`: 다음 노드
  - `isLeaf`: 리프 노드 여부
  - `minKeySize`, `maxKeySize`, `minChildSize`, `maxChildSize`: 최소/최대 키/자식 크기
  - `child`: 자식 노드 배열
  - `childCnt`: 자식 노드 수
  - `kv`: 키-값 쌍

- **메소드:**
  - `Node(int order)`: 주어진 order로 노드 정보 설정
  - `toString()`: 노드 정보를 문자열로 반환

### KeyVal 클래스
- **필드:**
  - `key`: 키 배열
  - `val`: 값 배열
  - `keyCnt`, `valCnt`: 키/값 개수

- **메소드:**
  - `KeyVal(int order)`: 주어진 order로 키/값 초기화
  - `plusCnt()`, `minusCnt()`: 키/값 개수 증가/감소

### BpTree 클래스
- **필드:**
  - `root`: 트리의 루트 노드
  - `order`: 트리의 차수

- **메소드:**
  - `BpTree(int order)`: 주어진 차수로 트리 초기화
  - `searchSingleKey(Node node, int key)`: 단일 키 검색
  - `searchRangeKey(Node node, int from, int to)`: 범위 키 검색
  - `insert(int key, int value)`: 키-값 삽입
  - `insertNode(...)`: 삽입 시 적절한 위치에 노드 삽입
  - `splitNode(...)`: 노드 분할
  - `delete(...)`: 키 삭제
  - `mergeNode(...)`: 노드 병합
  - `borrowFromRight(...)`, `borrowFromLeft(...)`: 자식 노드에서 키 빌리기
  - `writeDAT1(...)`, `writeDAT2(...)`, `writeDAT3(...)`: 트리 정보를 index 파일에 저장
  - `readDAT(...)`: index 파일에서 트리 정보 읽기
  - `readCSVFile(...)`: CSV 파일을 읽어 삽입/삭제 수행

## 실행 예시

프로그램은 다양한 데이터 크기와 차수(order)를 지원합니다. 예시로, 데이터 10개, 10,000개, 1,000,000개를 랜덤으로 삽입하고, 삭제 작업을 수행하는 시나리오가 포함되어 있습니다.

- **Data10 Order3**: 10개의 데이터, 차수 3
- **Data10000 Order3**: 10,000개의 데이터, 차수 3
- **Data1000000 Order3**: 1,000,000개의 데이터, 차수 3 (삽입, 삭제)
- **Data1000000 Order8**: 1,000,000개의 데이터, 차수 8 (삽입, 삭제)
- **Data1000000 Order100**: 1,000,000개의 데이터, 차수 100 (삽입, 삭제)
- **Singlekey search**: 단일 키 검색
- **Range search**: 범위 검색

## 파일 구조

- `BpTree.java`: B+ Tree 구현 코드
- `B-tree_Assignment_bptree.jar`: 실행 가능한 jar 파일
- `index 파일`: 트리 정보를 저장하는 파일
- `README.md`: 이 파일

## 추가 정보

이 프로젝트는 B+ Tree의 기본적인 삽입, 삭제, 검색 기능을 구현하며, 파일 입출력 및 트리 순회 작업을 포함하고 있습니다. 데이터 처리 시 성능을 고려하여 다양한 크기의 데이터셋을 처리할 수 있습니다.
</details>

---

# P2_`videosystemdb` 프로젝트

이 프로젝트는 구현한 B+트리를 사용하여 비디오 관리 시스템을 구현한 Java 기반의 간단한 DB 관리 프로그램입니다. 이 시스템은 사용자와 관리자 기능을 분리하여 다양한 비디오 관련 작업을 처리할 수 있도록 설계되었습니다. 시스템은 다음과 같은 주요 기능을 제공합니다:

<details>
   <summary>세부 사항</summary>

   ## 주요 기능

### 1. 사용자 기능
- **회원가입 / 로그인**: 사용자는 회원가입을 통해 계정을 만들고, 로그인하여 비디오를 검색하고, 업로드하고, 플레이리스트를 관리할 수 있습니다.
- **비디오 시청**: 사용자는 인기 비디오를 시청하거나, 제목, 업로더 ID, 카테고리 등으로 검색할 수 있습니다.
- **비디오 업로드 및 삭제**: 사용자는 자신의 비디오를 업로드하고, 업로드한 비디오를 관리할 수 있습니다.
- **비디오 신고**: 부적절한 비디오를 신고할 수 있습니다.
- **플레이리스트 관리**: 사용자는 자신의 플레이리스트를 만들고, 삭제하고, 비디오를 추가하거나 삭제할 수 있습니다.

### 2. 관리자 기능
- **사용자 관리**: 관리자는 모든 사용자를 조회하고, 특정 사용자의 업로드 기록 및 시청 기록을 확인하거나 사용자를 차단 및 해제할 수 있습니다.
- **비디오 관리**: 관리자는 모든 비디오를 조회하고, 비디오를 차단, 해제 또는 삭제할 수 있습니다.
- **광고 관리**: 관리자는 비디오에 광고를 추가하거나 삭제할 수 있습니다.
- **신고된 비디오 확인**: 신고된 비디오 목록을 확인하고 처리할 수 있습니다.

## 사용 기술

- **Java**: Java 언어를 사용하여 시스템을 구현했습니다.
- **B+트리**: 데이터베이스 관리에서 B+트리를 활용하여 비디오, 사용자, 광고 등을 효율적으로 관리합니다.
- **객체 지향 설계**: `Usr`, `Manager`, `Video`, `Ad`, `Playlist` 등 다양한 엔티티 클래스를 사용하여 시스템을 구성하였습니다.

## 시스템 흐름

1. **회원가입 / 로그인**: 사용자는 회원가입 또는 로그인 후, 각각 사용자 또는 관리자 메뉴로 이동합니다.
2. **사용자 메뉴**: 사용자는 비디오 시청, 업로드, 플레이리스트 관리 등 다양한 기능을 이용할 수 있습니다.
3. **관리자 메뉴**: 관리자는 사용자 관리, 비디오 관리, 광고 관리 등을 통해 시스템을 관리할 수 있습니다.

## 설치 및 실행 방법

1. 프로젝트 파일을 다운로드하거나 복사합니다.
2. Java가 설치된 환경에서 아래 명령어를 사용하여 프로그램을 실행할 수 있습니다.

   ```bash
   javac Menu.java
   java Menu
   ```

3. 프로그램이 실행되면, 사용자는 메뉴에 따라 입력을 선택하여 시스템을 이용할 수 있습니다.

## 파일 구조

- `Menu.java`: 사용자와 관리자 메뉴를 처리하는 클래스입니다.
- `UsrAction.java`, `MgrAction.java`, `VidAction.java`, `PlAction.java`, `AdAction.java`: 각각 사용자, 관리자, 비디오, 플레이리스트, 광고 관련 기능을 처리하는 클래스들입니다.
- `entity/`: 시스템에서 사용하는 엔티티 클래스를 포함하는 디렉토리입니다. 예: `Usr.java`, `Manager.java`, `Video.java`, `Ad.java`, `Playlist.java`.

</detilas>


---
